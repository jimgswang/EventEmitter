!function(a,b,c){"use strict";"object"==typeof module?module.exports=c():"function"==typeof define&&define.amd?define(c):a[b]=c()}(this,"EventEmitter",function(){"use strict";function a(){this._events={}}var b=Array.prototype.slice;return a.prototype.on=function(a,b){if("function"!=typeof b)throw new TypeError("listener should be a function");return this._events[a]=this._events[a]||[],this._events[a].push(b),this.emit("newListener",a,b),this},a.prototype.addListener=a.prototype.on,a.prototype.emit=function(a){var c=this._events[a],d=b.call(arguments,1),e=this;return c&&c.length?(c.forEach(function(a){"function"==typeof a?a.apply(e,d):"object"==typeof a&&a.outer&&a.outer.apply(e,d)}),!0):!1},a.prototype.removeAllListeners=function(a){return a?delete this._events[a]:this._events={},this},a.prototype.removeListener=function(a,b){var c=this._events[a];if("function"!=typeof b)throw new TypeError("listener must be a function");return c&&c.forEach(function(a,c,d){a===b?d.splice(c,1):"object"==typeof a&&a.inner===b&&d.splice(c,1)}),this.emit("removeListener",a,b),this},a.prototype.off=a.prototype.removeListener,a.prototype.once=function(a,c){var d,e=this;if("function"!=typeof c)throw new TypeError("listener must be a function");return d=function(){c.apply(e,b.call(arguments)),e.removeListener(a,c)},this._events[a]=this._events[a]||[],this._events[a].push({outer:d,inner:c}),this.emit("newListener",a,c),this},a.prototype.listeners=function(a){var b=this._events[a];return b||[]},a.listenerCount=function(b,c){var d,e=b instanceof a;return e?(d=b._events[c],d?d.length:0):0},a});